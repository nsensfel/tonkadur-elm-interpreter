module Comm.LoadStory exposing (request)

-- Elm -------------------------------------------------------------------------
import Http

-- Tonkadur --------------------------------------------------------------------
import Tonkadur.Json

-- Local Module ----------------------------------------------------------------
import Struct.Event

--------------------------------------------------------------------------------
-- TYPES -----------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- LOCAL -----------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- EXPORTED --------------------------------------------------------------------
--------------------------------------------------------------------------------
request : String -> (Cmd Struct.Event.Type)
request story_url =
   (Http.get
      {
         url = story_url,
         expect =
            (Http.expectJson
               Struct.Event.LoadStory
               (Tonkadur.Json.decoder)
            )
      }
   )
